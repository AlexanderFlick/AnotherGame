@using Game.Data.Models
@using Game.Data.Models.Resources
@inject NewGame Game

<div style="text-align:center;">
    <h1>Chest</h1>
    <p>Chest Storage: @Game.Player.Chest.Resources.Count/@Game.Player.Chest.ResourceCap</p>
    <div>
        <table style="width:100%;">
            <tr>
                <th>Name</th>
                <th>Value</th>
                <th></th>
            </tr>
            @foreach (var item in Game.Player.Chest.Resources)
            {
                <tr style="padding-bottom:20px;">
                    <td>@item.Name</td>
                    <td>@item.Value</td>
                    <td>
                        <button class="btn btn-danger" @onclick="(() => DeleteResource(item))">Delete</button>
                    </td>
                </tr>
            }
        </table>
    </div>
</div>


@code {
    public void DeleteResource(Resource item)
    {
        Game.Player.Chest.Resources.Remove(item);
        Game.OnStateChanged = StateHasChanged;
    }
}
